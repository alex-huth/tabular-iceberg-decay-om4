<?xml version="1.0"?>
<!-- FRE Usage documentation: http://www.gfdl.noaa.gov/fms/fre -->
<!--
Quick start guide
This xml consists of 1/2 degree Ocean-Ice experiments with JRA version1.4 interannual forcings.

module load fre/bronx-18
fremake -x OMIP_JRA.xml -p ncrc4.intel18 -t prod MOM6_SIS2_compile
frerun  -x OMIP_JRA.xml -p ncrc4.intel18 -t prod OM4p5_JRA55do1.4_cycle1 -r basic
-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2001/XInclude">
  <property name="RELEASE"      value="2019.01.03"/> <!-- git tag for general component source code-->
  <property name="FMS_GIT_TAG"  value="$(RELEASE)"/>    <!-- git tag for shared source code -->
  <property name="CPL_GIT_TAG"  value="2020.03"/>       <!-- git tag for shared source code -->
  <property name="NULL_TAG"     value="master"/>        <!-- git tag for shared source code -->
  <property name="OCEAN_BGC_GIT_TAG" value="199f2f24"/> <!-- git tag for ocean_shared source code -->
  <property name="MOM6_DATE"      value="2019.08.08"/>               <!-- git tag date for MOM6 source code -->
  <property name="MOM6_GIT_TAG"   value="dev/gfdl/2019.08.08"/>              <!-- git tag for MOM6 source code -->
  <property name="MOM6_GIT_FIX" value=""/>   <!-- git tag for MOM6 source code -->
  <property name="FRE_STEM"     value="FMS$(RELEASE)_mom6_$(MOM6_DATE)"/> <!-- customize as needed -->
  <!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
  <property name="GFDL_GROUP"     value="gfdl_o"/><!-- Replace YOURGROUPLETTER with GFDL group letter -->
  <property name="OM4_ANALYSIS"   value="ice_ocean_SIS2/OM4_05"/>  <!--example containing .frepp scripts for analysis-->
  <!--Production run properties. Users can modify these according to their need and/or performance analysis-->
  <property name="PROD_SIMTIME"   value="60"/> <!-- 60 -->
  <!--Post-processing  chunk lengths -->
  <property name="CHUNK_LENGTH_A" value="5yr"/> <!-- 2 or 5 yr -->
  <property name="CHUNK_LENGTH_B" value="20yr"/> <!-- 20yr -->
  <!--Start year of PP -->
  <property name="PP_START_YEAR"   value="1958"/> <!--"1958"/>-->      <!--Use these values for CORE2 dynamic forcing runs -->
  <property name="FRE_VERSION"     value="bronx-18"/> <!-- fre version to be used -->
  <property name="ProjectID"       value="CMIP6"/>      <!-- database top level -->
  <property name="ANALYSIS_SWITCH" value="on"/>       <!-- on/off switch for ATM/LND analysis -->
  <!--pp fixer scripts for CMIP6-->
  <property name="CMIP6_PP_FIXER_SCRIPTS_DIR" value="/home/oar.gfdl.cmip6/CMIP6_publishing/pp_fixer_scripts"/>
  <property name="CMIP6_PP_FIXER_SWITCH" value="off"/>

  <!--Users need not change the following properties -->
  <property name="reference_tag"  value="xanadu_esm4_20190304_mom6_2019.08.08"/> <!-- Reference answers for frecheck -->
  <!-- The following properties are for testing/debugging purposes and should normally be empty-->
  <property name="DEBUGLEVEL" value=""/>
  <property name="PLATINFO"   value=""/>  <!--This is necessary only if you want to run exact same experiment on multiple platforms-->
  <property name="BUILD_DATE" value=""/>  <!--Not used-->

  <property name="AWG_INPUT_HOME_GAEA"  value="awg_include"/>
  <property name="AWG_INPUT_HOME_GFDL"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)/mdt_xml/awg_include"/>
  <property name="OBGCdataset"   value="/lustre/f2/pdata/gfdl/cmip6/datasets/OMIP"/>
  <property name="append_to_setup_csh"  value="set fyear=1958"/><!-- (1958) The start year of forcing dataseti. FRE hack to set fyear.-->
  <setup>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='ncrc4.intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='ncrc3.intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='gfdl.ncrc4-intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='gfdl.ncrc3-intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='orion.intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='orion.intel19'])"/>
  </setup>
  <property name="gfdlO_pdata"      value="$(CMIP6_ARCHIVE_ROOT)/../../gfdl_O"/>
  <!--JRA dataset location. There are used in awg_include/xml_building_blocks/om4_common.xml-->
  <property name="JRA_dataset"      value="$(gfdlO_pdata)/datasets/reanalysis/JRA55-do/v1.4.0"/>
  <property name="JRA_dataset_p5"   value="/lustre/f2/dev/Niki.Zadeh/archive/input/xanadu/Runoff_JRAv1.4_OM4p5"/>
  <property name="JRA_dataset_p25"  value="$(gfdlO_pdata)/datasets/OM4_025/INPUT.JRA.v2019.07.04"/>
  <property name="JRA_dataset_p125" value="/lustre/f2/dev/Raphael.Dussin/forcings/OM4_125_runoff/"/>
  <property name="JRA_version"      value="1-4-0"/>

  <freInclude name="resourceparams_O1300p5_production">
             <resources jobWallclock="16:00:00"  segRuntime="4:00:00">
               <ocn ranks="1300" layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45" threads="1"/>
               <ice              layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
             </resources>
   </freInclude>
   <freInclude name="resourceparams_O2783p5_production">
	     <resources jobWallclock="16:00:00"  segRuntime="2:00:00">
	       <ocn ranks="2783" layout = "60,60"   io_layout = "1,5" mask_table="mask_table.817.60x60" threads="1"/>
	       <ice              layout = "60,60"   io_layout = "1,5" mask_table="mask_table.817.60x60"/>
	     </resources>
   </freInclude>

   <!--= COMPILE =-->
   <property name="PROG_MAIN"   value="coupler/coupler_main.o"/>
   <property name="LIBS_ROOT"   value="MOM6_SIS2_compile"/>
   <property name="FMS_LIB_DIR" value="./$(LIBS_ROOT)/$(platform)-$(target)/exec"/>
   <property name="MY_LIBS"     value="$(EXEC_ROOT)/$(FMS_LIB_DIR)"/>

   <!--experiment name="MOM6_SIS2_compile"-->
   <xi:include href="awg_include/xml_building_blocks/om4_compile_postxanadu.xml" xpointer="xpointer(//freInclude/experiment[@name='MOM6_SIS2_compile'])"/>
   <!--/experiment-->

   <!--The property MOM6_EXAMPLES should point to the mom6 directory that is checked out. It is needed by MOM6 to access its input data files-->
   <property name="MOM6_EXAMPLES"  value="$root/$(LIBS_ROOT)/src/mom6"/>

   <!--****************************************************************************************-->
   <!--***************************** 1/2 degree experiments        ****************************-->
   <!--****************************************************************************************-->

   <experiment name="gladstone_default" inherit="MOM6_SIS2_compile">
    <description>
global 1/2 degree z ocean_ice experiment
regridded runoff and salinity
JRA55do1-4 dynamic inter_annual forcing data
No additional diurnal cycle imposed
    </description>
    <input>
      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1958,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'julian',
       dt_cpld  = 3600,
       dt_atmos = 3600,
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.false.
       atmos_nthreads = $atm_threads
       ocean_nthreads = $ocn_threads
     </namelist>
     <namelist name="xgrid_nml">
       make_exchange_reproduce = .true.
       interp_method = 'second_order'
     </namelist>
     <namelist name="icebergs_nml">
       traj_area_thres=3.
       verbose=.false.
       verbose_hrs=48
       traj_sample_hrs=48.
       traj_write_hrs=480.
       save_fl_traj=.true.
       debug=.false.
       really_debug=.false.
       use_slow_find=.true.
       add_weight_to_ocean=.false.
       passive_mode=.false.
       generate_test_icebergs=.false.
       speed_limit=0.
       use_roundoff_fix=.true.
       make_calving_reproduce=.true.
       old_bug_bilin=.false.
       tidal_drift=0.005
       coastal_drift=0.1
       use_updated_rolling_scheme=.true.
       input_freq_distribution=.true.
       separate_distrib_for_n_hemisphere=.true.
       bergy_bit_erosion_fraction=1.0
       fl_r=0
       use_new_predictive_corrective=.true.
       runge_not_verlet=.false.
     </namelist>
     <namelist name="fms_nml">
       clock_grain='ROUTINE'
       clock_flags='NONE'
       domains_stack_size = 8000000
       stack_size =0
     </namelist>
     <namelist name="fms_io_nml" >
       fms_netcdf_restart=.true.
       threading_read='multi'
       max_files_r = 800
       max_files_w = 800
     </namelist>
     <namelist name="atmos_model_nml" >
       layout= 0, 0
     </namelist>
     <!--verona-->
     <namelist name="sat_vapor_pres_nml">
      construct_table_wrt_liq = .true.,
      construct_table_wrt_liq_and_ice = .true.,
     </namelist>

     <namelist name="generic_tracer_nml">
       do_generic_tracer=.true.
       do_generic_abiotic=.true.
       do_generic_BLING=.true.
       do_generic_CFC=.true.
       do_generic_SF6=.true.
       do_generic_age=.false.
       do_generic_argon=.false.
       do_generic_COBALT=.false.
       force_update_fluxes=.true.
      </namelist>
      <namelist name="generic_abiotic_nml">
       co2_calc='mocsy'
      </namelist>
      <namelist name="generic_bling_nml">
       do_14c=.false.
       do_carbon=.true.
       do_carbon_pre=.false.
       do_po4_pre=.false.
       bury_caco3=.true.
       bury_pop=.true.
       co2_calc='mocsy'
      </namelist>
     <namelist name="diag_manager_nml">
       max_files = 400
       flush_nc_files=.false.
       max_axes = 400,
       max_num_axis_sets = 400,
       max_input_fields = 1200
       max_output_fields = 1800
       mix_snapshot_average_fields=.false.
     </namelist>
     <!--
     <namelist name="data_override_nml">
       reproduce_null_char_bug = .true. !this is needed to reproduce old (wrong) answers with FMS2020.04
     </namelist>
     -->
     <dataFile label="namelist" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/input.nml</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_05/input.nml</dataSource>
     </dataFile>

     <!--common setup for JRA forcing dataset and data_table-->
     <xi:include href="awg_include/xml_building_blocks/om4_common.xml" xpointer="xpointer(//freInclude[@name='OM4_JRA_always_csh']/input/node())"/>
     <xi:include href="awg_include/xml_building_blocks/om4_common.xml" xpointer="xpointer(//freInclude[@name='JRA_data_table']/input/node())"/>
     <!--append the resolution dependent runoff override-->
     <dataTable order="append">
#JRA runoff
"ICE" , "runoff"        , "friver"      , "./INPUT/JRA_friver_720x576.nc", "none" ,  1.0
"ICE" , "calving"       , "licalvf"     , "./INPUT/JRA_licalvf_720x576.nc", "none" ,  1.0
     </dataTable>

     <!--OM4 gridSpec mosaic datasets-->
     <xi:include xpointer="xpointer(//freInclude[@name='OM4p5grid_data']/input/node())"/>
     <!--MOM6 Input datasets-->
     <xi:include xpointer="xpointer(//freInclude[@name='OM4p5_data']/input/node())"/>
     <!--SIS2 Input datasets-->
     <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>

     <!--diag_tables-->
     <diagTable>
$name
$baseDate
     </diagTable>

     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/cmip6/datasets/OMIP/diagnostic/diag_rho2.nc</dataSource>
     </dataFile>

     <!--field_tables-->
     <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/field_table</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_05/field_table</dataSource>
     </dataFile>

      <!--BLING specific datasets and tables-->
      <!--COBALT IC datasets used in BLING field_table-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_data_set']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='BLING_field_table']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='ABIO_field_table']/input/node())"/>
      <dataFile label="input" target="INPUT/MOM_GENERICS.res.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGCdataset)/cfc/MOM_GENERICS_OM4p5.20170829.res.nc</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_BLING</dataSource>
      </dataFile>
      <xi:include xpointer="xpointer(//freInclude[@name='BLING_data_table']/input/node())"/>

     <!--MOM_overrides-->
     <csh>
       <![CDATA[
if ( $currentSeg == 1 ) then
   #Take current date from coupler_nml
   if(-e $work/INPUT/coupler.res ) \rm -rf $work/INPUT/coupler.res
endif

cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
# Turn on generic tracers
USE_generic_tracer = True
GENERIC_TRACER_IC_FILE = "MOM_GENERICS.res.nc"

#override USE_NET_FW_ADJUSTMENT_SIGN_BUG = False
#override ADJUST_NET_FRESH_WATER_TO_ZERO = True
#override DIAG_COORD_DEF_RHO2 = "FILE:diag_rho2.nc,interfaces=rho2"
MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override ICE_STATS_INTERVAL = 30
SIS_OVERRIDE_EOF

     ]]></csh>

   </input>

   <runtime>
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
          <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1300p5_production']/node())"/>
      </production>
      <regression name="basic">
        <run months="1" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5']/node())"/> </run>
      </regression>
      <regression name="rts">
        <run days="15 16" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5']/node())"/> </run>
        <!--the following should reproduce eachother but not the basic because basic uses mask_table-->
        <run days="2" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O1296']/node())"/> </run>
        <run days="2" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O648']/node())"/> </run>
        <run days="2" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
      </regression>
      <regression name="debug">
        <run days="2" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
        <run days="1 1" > <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
      </regression>
      <reference restart="$(REFERENCE)/archive/1x1m0d_1057x1o/restart/19580201.tar"/>
   </runtime>

    <postProcess>
      <csh><![CDATA[
         cd $work
         #Make a directory to trick FRE to pick up and archive in ascii
         mkdir extra.results
         mv *velocity_truncations MOM_parameter_doc* SIS_parameter_doc* seaice.stats* ocean.stats* extra.results/
         #When the ocean uses a mask_table the ocean_static.nc file produced by the model run has holes in coordinates (geolon,geolat)
         #This causes problems for ferret and python tools for analysis.
         #Copy a non-masked version of ocean_static.nc to be saved as a history file to be used by the analysis scipts .
         cp $work/INPUT/ocean_static_no_mask_table.nc $work/

      ]]></csh>
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh  $(NB_ROOT)/mdt_xml/awg_include/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <xi:include href="awg_include/xml_building_blocks/om4_cmip6_postprocess.xml" xpointer="xpointer(//freInclude[@name='OM4_cmip6_postprocess']/postProcess/node())"/>
      <xi:include href="awg_include/xml_building_blocks/om4_cmip6_postprocess.xml" xpointer="xpointer(//freInclude[@name='OM4_refined_postprocess']/postProcess/node())"/>
      <xi:include href="awg_include/xml_building_blocks/om4_cmip6_postprocess.xml" xpointer="xpointer(//freInclude[@name='OM4_cmip6_postprocess_1x1']/postProcess/node())"/>
      <xi:include href="om4_icebergs_postprocess.xml" xpointer="xpointer(//freInclude[@name='icebergs_postprocess_fl']/postProcess/node())"/>
      <xi:include href="awg_include/xml_building_blocks/om4_regions_postprocess.xml" xpointer="xpointer(//freInclude[@name='OM4_regions_postprocess']/postProcess/node())"/>
    </postProcess>
</experiment>

  <experiment name="e100_s.5" inherit="gladstone_default">
     <input>
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_fl_traj=.true.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	 distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	 mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	 initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_use_l_scale=.true.
	 fl_l_scale_erosion_only=.true.
	 fl_youngs=1.e8
	 fl_l_scale=1.
	 fl_r=1
	 fl_r_s=1
	 fl_k_scale_by_perimeter=1.
	 displace_fl_bergs=.true.
	 fl_style='fl_bits'
	 new_berg_from_fl_bits_mass_thres=1.e12
	 fl_bits_erosion_to_bergy_bits=.true.
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
	 fl_bits_scale_l=1.0
	 fl_bits_scale_w=1.0
	 fl_bits_scale_t=1.0
       </namelist>
     </input>
  </experiment>

 <experiment name="e100_s.5_r" inherit="gladstone_default">
   <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
	<dataSource platform="$(platform)">/lustre/f2/dev/gfdl/$USER/restarts/e100_s.5.tar  </dataSource>
      </dataFile>
      <!--There is  MOM6/SIS2 restart provided in initCond.-->
      <namelist name="MOM_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override','INPUT/MOM_saltrestore'
      </namelist>
      <namelist name="SIS_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
      </namelist>
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_all_traj_year=1985.
	 save_fl_traj=.true.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	 distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	 mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	 initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_use_l_scale=.true.
	 fl_l_scale_erosion_only=.true.
	 fl_youngs=1.e8
	 fl_l_scale=1.
	 fl_r=1
	 fl_r_s=1
	 fl_k_scale_by_perimeter=1.
	 displace_fl_bergs=.true.
	 fl_style='fl_bits'
	 new_berg_from_fl_bits_mass_thres=1.e12
	 fl_bits_erosion_to_bergy_bits=.true.
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
	 fl_bits_scale_l=1.0
	 fl_bits_scale_w=1.0
	 fl_bits_scale_t=1.0
       </namelist>
     </input>
 </experiment>

 <experiment name="e100_s.5_nb" inherit="gladstone_default">
     <input>
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_fl_traj=.true.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	 distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	 mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	 initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_use_l_scale=.true.
	 fl_l_scale_erosion_only=.true.
	 fl_youngs=1.e8
	 fl_l_scale=1.
	 fl_r=1
	 fl_r_s=1
	 fl_k_scale_by_perimeter=1.
	 displace_fl_bergs=.true.
	 fl_style='new_bergs'
	 fl_bits_erosion_to_bergy_bits=.true.
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
	 fl_bits_scale_l=1.0
	 fl_bits_scale_w=1.0
	 fl_bits_scale_t=1.0
       </namelist>
     </input>
  </experiment>

  <experiment name="e100_s.5_nb_r" inherit="gladstone_default">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
	<dataSource platform="$(platform)">/lustre/f2/dev/gfdl/$USER/restarts/e100_s.5_nb.tar  </dataSource>
      </dataFile>
      <!--There is  MOM6/SIS2 restart provided in initCond.-->
      <namelist name="MOM_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override','INPUT/MOM_saltrestore'
      </namelist>
      <namelist name="SIS_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
      </namelist>
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_all_traj_year=1985.
	 save_fl_traj=.true.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	 distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	 mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	 initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_use_l_scale=.true.
	 fl_l_scale_erosion_only=.true.
	 fl_youngs=1.e8
	 fl_l_scale=1.
	 fl_r=1
	 fl_r_s=1
	 fl_k_scale_by_perimeter=1.
	 displace_fl_bergs=.true.
	 fl_style='new_bergs'
	 fl_bits_erosion_to_bergy_bits=.true.
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
	 fl_bits_scale_l=1.0
	 fl_bits_scale_w=1.0
	 fl_bits_scale_t=1.0
       </namelist>
     </input>
  </experiment>

  <experiment name="e10_s.25" inherit="gladstone_default">
    <input>
      <namelist name="icebergs_nml">
	traj_area_thres=5.
	verbose=.false.
	verbose_hrs=48
	traj_sample_hrs=48.
	traj_write_hrs=480.
	save_fl_traj=.true.
	fl_strength=250.
	debug=.false.
	really_debug=.false.
	use_slow_find=.true.
	add_weight_to_ocean=.false.
	passive_mode=.false.
	generate_test_icebergs=.false.
	speed_limit=0.
	use_roundoff_fix=.true.
	make_calving_reproduce=.true.
	old_bug_bilin=.false.
	tidal_drift=0.005
	coastal_drift=0.1
	use_updated_rolling_scheme=.true.
	input_freq_distribution=.true.
	initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	separate_distrib_for_n_hemisphere=.true.
	bergy_bit_erosion_fraction=1.0
	fl_use_l_scale=.true.
	fl_l_scale_erosion_only=.true.
	fl_youngs=1.e7
	fl_l_scale=1.
	fl_r=1
	fl_r_s=1
	fl_k_scale_by_perimeter=1.
	displace_fl_bergs=.true.
	fl_style='fl_bits'
	new_berg_from_fl_bits_mass_thres=1.e12
	fl_bits_erosion_to_bergy_bits=.true.
	use_new_predictive_corrective=.true.
	runge_not_verlet=.false.
	fl_bits_scale_l=1.0
	fl_bits_scale_w=1.0
	fl_bits_scale_t=1.0
      </namelist>
    </input>
  </experiment>

  <experiment name="e10_s.25_r" inherit="gladstone_default">
   <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
	<dataSource platform="$(platform)">/lustre/f2/dev/gfdl/$USER/restarts/e10_s.25.tar  </dataSource>
      </dataFile>
      <!--There is  MOM6/SIS2 restart provided in initCond.-->
      <namelist name="MOM_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override','INPUT/MOM_saltrestore'
      </namelist>
      <namelist name="SIS_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
      </namelist>
      <namelist name="icebergs_nml">
	traj_area_thres=5.
	verbose=.false.
	verbose_hrs=48
	traj_sample_hrs=48.
	traj_write_hrs=480.
	save_all_traj_year=1985.
	save_fl_traj=.true.
	fl_strength=250.
	debug=.false.
	really_debug=.false.
	use_slow_find=.true.
	add_weight_to_ocean=.false.
	passive_mode=.false.
	generate_test_icebergs=.false.
	speed_limit=0.
	use_roundoff_fix=.true.
	make_calving_reproduce=.true.
	old_bug_bilin=.false.
	tidal_drift=0.005
	coastal_drift=0.1
	use_updated_rolling_scheme=.true.
	input_freq_distribution=.true.
	initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	separate_distrib_for_n_hemisphere=.true.
	bergy_bit_erosion_fraction=1.0
	fl_use_l_scale=.true.
	fl_l_scale_erosion_only=.true.
	fl_youngs=1.e7
	fl_l_scale=1.
	fl_r=1
	fl_r_s=1
	fl_k_scale_by_perimeter=1.
	displace_fl_bergs=.true.
	fl_style='fl_bits'
	new_berg_from_fl_bits_mass_thres=1.e12
	fl_bits_erosion_to_bergy_bits=.true.
	use_new_predictive_corrective=.true.
	runge_not_verlet=.false.
	fl_bits_scale_l=1.0
	fl_bits_scale_w=1.0
	fl_bits_scale_t=1.0
      </namelist>
    </input>
  </experiment>

  <experiment name="e10_s.1" inherit="gladstone_default">
    <input>
      <namelist name="icebergs_nml">
	traj_area_thres=5.
	verbose=.false.
	verbose_hrs=48
	traj_sample_hrs=48.
	traj_write_hrs=480.
	save_fl_traj=.true.
	fl_strength=100.
	debug=.false.
	really_debug=.false.
	use_slow_find=.true.
	add_weight_to_ocean=.false.
	passive_mode=.false.
	generate_test_icebergs=.false.
	speed_limit=0.
	use_roundoff_fix=.true.
	make_calving_reproduce=.true.
	old_bug_bilin=.false.
	tidal_drift=0.005
	coastal_drift=0.1
	use_updated_rolling_scheme=.true.
	input_freq_distribution=.true.
	initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	separate_distrib_for_n_hemisphere=.true.
	bergy_bit_erosion_fraction=1.0
	fl_use_l_scale=.true.
	fl_l_scale_erosion_only=.true.
	fl_youngs=1.e7
	fl_l_scale=1.
	fl_r=1
	fl_r_s=1
	fl_k_scale_by_perimeter=1.
	displace_fl_bergs=.true.
	fl_style='fl_bits'
	new_berg_from_fl_bits_mass_thres=1.e12
	fl_bits_erosion_to_bergy_bits=.true.
	use_new_predictive_corrective=.true.
	runge_not_verlet=.false.
	fl_bits_scale_l=1.0
	fl_bits_scale_w=1.0
	fl_bits_scale_t=1.0
      </namelist>
    </input>
  </experiment>

  <experiment name="e10_s.1_r" inherit="gladstone_default">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
	<dataSource platform="$(platform)">/lustre/f2/dev/gfdl/$USER/restarts/e10_s.1.tar  </dataSource>
      </dataFile>
      <!--There is  MOM6/SIS2 restart provided in initCond.-->
      <namelist name="MOM_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override','INPUT/MOM_saltrestore'
      </namelist>
      <namelist name="SIS_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
      </namelist>
      <namelist name="icebergs_nml">
	traj_area_thres=5.
	verbose=.false.
	verbose_hrs=48
	traj_sample_hrs=48.
	traj_write_hrs=480.
	save_all_traj_year=1985.
	save_fl_traj=.true.
	fl_strength=100.
	debug=.false.
	really_debug=.false.
	use_slow_find=.true.
	add_weight_to_ocean=.false.
	passive_mode=.false.
	generate_test_icebergs=.false.
	speed_limit=0.
	use_roundoff_fix=.true.
	make_calving_reproduce=.true.
	old_bug_bilin=.false.
	tidal_drift=0.005
	coastal_drift=0.1
	use_updated_rolling_scheme=.true.
	input_freq_distribution=.true.
	initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	separate_distrib_for_n_hemisphere=.true.
	bergy_bit_erosion_fraction=1.0
	fl_use_l_scale=.true.
	fl_l_scale_erosion_only=.true.
	fl_youngs=1.e7
	fl_l_scale=1.
	fl_r=1
	fl_r_s=1
	fl_k_scale_by_perimeter=1.
	displace_fl_bergs=.true.
	fl_style='fl_bits'
	new_berg_from_fl_bits_mass_thres=1.e12
	fl_bits_erosion_to_bergy_bits=.true.
	use_new_predictive_corrective=.true.
	runge_not_verlet=.false.
	fl_bits_scale_l=1.0
	fl_bits_scale_w=1.0
	fl_bits_scale_t=1.0
      </namelist>
    </input>
  </experiment>

   <experiment name="no_footloose" inherit="gladstone_default">
     <input>
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_fl_traj=.true.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	 distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	 mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	 initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_r=0
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
       </namelist>
     </input>
   </experiment>

   <experiment name="no_footloose_r" inherit="gladstone_default">
     <input>
       <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
	 <dataSource platform="$(platform)">/lustre/f2/dev/gfdl/$USER/restarts/no_footloose.tar  </dataSource>
       </dataFile>
       <!--There is  MOM6/SIS2 restart provided in initCond.-->
       <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = 'r'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override','INPUT/MOM_saltrestore'
       </namelist>
       <namelist name="SIS_input_nml" >
         output_directory = './',
         input_filename = 'r'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
       </namelist>
       <namelist name="icebergs_nml">
	 traj_area_thres=3.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_fl_traj=.true.
	 save_all_traj_year=1985.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 initial_mass=4.72e10, 1.69e11, 6.17e11, 2.15e12, 7.0e12, 2.58e13, 8.75e13, 2.97e14, 1., 1.
	 distribution=0.536, 0.205, 0.116, 0.065, 0.037, 0.021, 0.012, 0.007, 0., 0.
	 mass_scaling=8, 1, 1, 1, 1, 1, 1, 1, 1, 1
	 initial_thickness=175., 200., 225., 250., 275., 300., 325., 350., 1., 1.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_r=0
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
       </namelist>
     </input>
   </experiment>

   <experiment name="gladstone_bigg" inherit="gladstone_default">
    <input>
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=48
	 traj_sample_hrs=48.
	 traj_write_hrs=480.
	 save_fl_traj=.true.
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_r=0
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
       </namelist>
    </input>
   </experiment>

   <experiment name="gladstone_bigg_r" inherit="gladstone_bigg_default">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
	<dataSource platform="$(platform)">/lustre/f2/dev/gfdl/$USER/restarts/gladstone_bigg.tar  </dataSource>
      </dataFile>
      <!--There is  MOM6/SIS2 restart provided in initCond.-->
      <namelist name="MOM_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override','INPUT/MOM_saltrestore'
      </namelist>
      <namelist name="SIS_input_nml" >
        output_directory = './',
        input_filename = 'r'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
      </namelist>
      <!--Note the change in trajectory save specifications versus other experiment. This is needed here to
       reduce computational expense (speed and memory)...-->
       <namelist name="icebergs_nml">
	 traj_area_thres=5.
	 verbose=.false.
	 verbose_hrs=96
	 traj_sample_hrs=192.
	 traj_write_hrs=480.
	 save_fl_traj=.true.
	 save_nonfl_traj_by_class=.true.
	 save_traj_by_class_start_mass_thres_s=1.e11
	 save_traj_by_class_start_mass_thres_n=1.e11
	 traj_area_thres_sntbc=0.2
	 debug=.false.
	 really_debug=.false.
	 use_slow_find=.true.
	 add_weight_to_ocean=.false.
	 passive_mode=.false.
	 generate_test_icebergs=.false.
	 speed_limit=0.
	 use_roundoff_fix=.true.
	 make_calving_reproduce=.true.
	 old_bug_bilin=.false.
	 tidal_drift=0.005
	 coastal_drift=0.1
	 use_updated_rolling_scheme=.true.
	 input_freq_distribution=.true.
	 separate_distrib_for_n_hemisphere=.true.
	 bergy_bit_erosion_fraction=1.0
	 fl_r=0
	 use_new_predictive_corrective=.true.
	 runge_not_verlet=.false.
       </namelist>
    </input>
   </experiment>


   <freInclude name="OM4p5grid_data">
     <input>
       <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource site="ncrc">$(gfdlO_pdata)/datasets/OM4_05/mosaic_ocean.v20180227.tar</dataSource>
        <dataSource site="gfdl">/archive/gold/datasets/OM4_05/mosaic_ocean.v20180227.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(ARCHIVE_NNZ)/input/xanadu/OMp5_mask_tables.tar</dataSource>
      </dataFile>
    </input>
   </freInclude>

   <freInclude name="OM4p5_data">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/MOM_input</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/salt_restore_PHC2.720x576.v20180405.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/MOM_saltrestore</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/tidal_amplitude.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/MOM_channels_global_025</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/seawifs-clim-1997-2010.720x576.v20180328.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/hycom1_75_800m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/geothermal_davies2013_v1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/woa13_decav_ptemp_monthly_fulldepth_01.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/woa13_decav_s_monthly_fulldepth_01.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/ocean_static_no_mask_table.nc" chksum="" size="" timestamp="">
       <dataSource site="ncrc">$(gfdlO_pdata)/datasets/OM4_05/mosaic_ocean.v20180227.unpacked/ocean_static.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/layer_coord.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/diag_table.MOM6</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_05/diag_table.MOM6</dataSource>
      </dataFile>
      <diagTable order="append">
# MOM6 ocean diagnostics only used in a CORE/OMIP (no interactive atmos).
# These terms provide diagnostics for the surface salinity / fresh water restoring.
 "ocean_model", "vprec",              "vprec",              "ocean_annual", "all", "mean", "none",2
 "ocean_model", "salt_flux_added",    "salt_flux_added",    "ocean_annual", "all", "mean", "none",2

 "ocean_model", "vprec",              "vprec",              "ocean_month", "all", "mean", "none",2
 "ocean_model", "salt_flux_added",    "salt_flux_added",    "ocean_month", "all", "mean", "none",2
      </diagTable>
     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_saltrestore','INPUT/MOM_override'
     </namelist>
     </input>
   </freInclude>

   <freInclude name="SIS2_data">
    <input>
     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025.JRA/diag_table.SIS</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025.JRA/diag_table.SIS</dataSource>
     </dataFile>
     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.icebergs</dataSource>
       <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.icebergs</dataSource>
     </dataFile>
     <diagTable order="append">
# Extra calving and footloose diagnostics
"icebergs", "calving",            "calving",            "iceberg_month", "all", "mean", "none", 2
"icebergs", "fl_bits_src",        "fl_bits_src",        "iceberg_month", "all", "mean", "none", 2
"icebergs", "fl_bits_melt",       "fl_bits_melt",       "iceberg_month", "all", "mean", "none", 2
"icebergs", "fl_bits_mass",       "fl_bits_mass",       "iceberg_month", "all", "mean", "none", 2
"icebergs", "melt_buoy_fl",       "melt_buoy_fl",       "iceberg_month", "all", "mean", "none", 2
"icebergs", "melt_eros_fl",       "melt_eros_fl",       "iceberg_month", "all", "mean", "none", 2
"icebergs", "melt_conv_fl",       "melt_conv_fl",       "iceberg_month", "all", "mean", "none", 2
"icebergs", "melt_by_class",      "melt_by_class",      "iceberg_month", "all", "mean", "none", 2
"icebergs", "fl_parent_melt",     "fl_parent_melt",     "iceberg_month", "all", "mean", "none", 2
"icebergs", "fl_child_melt ",     "fl_child_melt ",     "iceberg_month", "all", "mean", "none", 2
"icebergs", "fl_bergy_bits_mass", "fl_bergy_bits_mass", "iceberg_month", "all", "mean", "none", 2
"icebergs", "cn",                 "cn",                 "iceberg_month", "all", "mean", "none", 2
"icebergs", "sst",                "sst",                "iceberg_month", "all", "mean", "none", 2
"icebergs", "uo",                 "uo",                 "iceberg_month", "all", "mean", "none", 2
"icebergs", "vo",                 "vo",                 "iceberg_month", "all", "mean", "none", 2
"icebergs", "ui",                 "ui",                 "iceberg_month", "all", "mean", "none", 2
"icebergs", "vi",                 "vi",                 "iceberg_month", "all", "mean", "none", 2
"icebergs", "ua",                 "ua",                 "iceberg_month", "all", "mean", "none", 2
"icebergs", "va",                 "va",                 "iceberg_month", "all", "mean", "none", 2

     </diagTable>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/SIS_input</dataSource>
     </dataFile>
     <namelist name="SIS_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
     </namelist>
     </input>
   </freInclude>
  <freInclude name="OBGC_data_set">
    <input>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_n_annual_01.nc</dataSource>
       </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_p_annual_01.nc</dataSource>
       </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_i_annual_01.nc</dataSource>
       </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_o_annual_01.nc</dataSource>
       </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/glodap/20160927/Alk.nc</dataSource>
       </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/glodap/20160927/Preind_DIC.nc</dataSource>
       </dataFile>
      <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/IC/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc</dataSource>
      </dataFile>
     <dataFile label="input" target="INPUT/init_ocean_cobalt_phyto_biomass.res.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/IC/BLING/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt_phyto_biomass.res.nc</dataSource>
     </dataFile>

      <!-- Generic Abiotic Input Files -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGCdataset)/abiotic/GLODAPv1.abiotic.filled.20180316.nc</dataSource>
      </dataFile>

    </input>
  </freInclude>

    <freInclude name="CFC_data_table">
    <input>
      <!--CFCs/SF6 Boundary Conditions -->
      <dataFile label="input" target="INPUT/cfc.bc.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGCdataset)/cfc/CFC_histories_revised_2015_20x20deg.20171208.nc</dataSource>
      </dataFile>

      <dataTable order="append">
#CFCs
"ATM", "cfc11_flux_pcair_atm","CFC11","INPUT/cfc.bc.nc","bilinear", 1.0e-12
"ATM", "cfc12_flux_pcair_atm","CFC12","INPUT/cfc.bc.nc","bilinear", 1.0e-12
"ATM", "sf6_flux_pcair_atm",   "SF6",  "INPUT/cfc.bc.nc","bilinear", 1.0e-12
      </dataTable>
    </input>
    </freInclude>

    <freInclude name="ABIO_data_table">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGCdataset)/abiotic/atm_delta_13C_14C.nc</dataSource>
      </dataFile>

      <dataTable order="append">
#Abiotic
"OCN", "delta_14catm", "D14C", "./INPUT/atm_delta_13C_14C.nc",  "bilinear", 1.0
"ATM", "abco2_flux_pcair_atm", "" , "", "none" ,284.262e-6
"ATM", "ab14co2_flux_pcair_atm", "", "", "none" ,284.262e-6
      </dataTable>
    </input>
    </freInclude>

    <freInclude name="ABIO_field_table">
    <input>
      <fieldTable order="append">
"namelists","ocean_mod","generic_abiotic"
init = f
ab_htotal_src_file = INPUT/init_ocean_cobalt.res.nc
ab_htotal_src_var_name = htotal
ab_htotal_src_var_unit = none
ab_htotal_dest_var_name =  ab_htotal
ab_htotal_dest_var_unit = mol kg-1
ab_htotal_src_var_record = 1
ab_htotal_src_var_gridspec = NONE
ab_htotal_valid_min = 3.981E-09
ab_htotal_valid_max = 1.259E-08
#
ab_htotal14c_src_file = INPUT/init_ocean_cobalt.res.nc
ab_htotal14c_src_var_name = htotal
ab_htotal14c_src_var_unit = none
ab_htotal14c_dest_var_name =  ab_htotal
ab_htotal14c_dest_var_unit = mol kg-1
ab_htotal14c_src_var_record = 1
ab_htotal14c_src_var_gridspec = NONE
ab_htotal14c_valid_min = 3.981E-09
ab_htotal14c_valid_max = 1.259E-08
#
## divide by 1e6 to convert from umol/kg to mol/kg
dissicabio_src_file = INPUT/GLODAPv1.abiotic.filled.20180316.nc
dissicabio_src_var_name = preind_dic_abiotic
dissicabio_src_var_unit = micromoles_per_kg
dissicabio_dest_var_name =  dissicabio
dissicabio_dest_var_unit = mol kg-1
dissicabio_src_var_record = 1
dissicabio_src_var_gridspec = NONE
dissicabio_valid_min = 0.0
#
## divide by 1e6 to convert from umol/kg to mol/kg
dissi14cabio_src_file = INPUT/GLODAPv1.abiotic.filled.20180316.nc
dissi14cabio_src_var_name = preind_di14c
dissi14cabio_src_var_unit = micromoles_per_kg
dissi14cabio_dest_var_name =  dissi14cabio
dissi14cabio_dest_var_unit = mol kg-1
dissi14cabio_src_var_record = 1
dissi14cabio_src_var_gridspec = NONE
dissi14cabio_valid_min = 0.0
/
     </fieldTable>
    </input>
    </freInclude>

    <freInclude name="BLING_data_table">
    <input>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/TOPAZ/deposition_fan/Soluble_Fe_Flux_PI.nc</dataSource>
      </dataFile>

      <dataTable order="append">
"ATM", "c14o2_flux_pcair_atm",         "",      "",                                "none",  284.262e-06
"ATM", "co2_flux_pcair_atm",           "",      "",                                "none",  284.262e-06
"ATM", "o2_flux_pcair_atm",            "",      "",                                "none",    0.21
"OCN", "runoff_alk_flux_ice_ocn",      "",      "",                                "none",    0.5932e-3
"OCN", "runoff_dic_flux_ice_ocn",      "",      "",                                "none",    0.96e-3
"OCN", "runoff_po4_flux_ice_ocn",      "",      "",                                "none",    0.006792e-3
"OCN", "dry_dep_fed_flux_ice_ocn",     "FLUX",  "./INPUT/Soluble_Fe_Flux_PI.nc",   "bilinear",   -1.0
      </dataTable>
    </input>
  </freInclude>

    <freInclude name="BLING_field_table">
    <input>
      <!-- BLING field table (GLODAPv1 Preind DIC) -->
      <fieldTable order="append">
####.................................................
### atmos co2 field table for CMIP6 Jan 1 1850
## jgj 2016/11/29

# CO2 tracer
## Note: atm transport and land model expect moist mmr.
##       set co2 units: kg/kg  (mass mixing ratio) for both atm and lnd field table entries.
##       convert atm IC field table entry from dry vmr value to **dry** mmr
## Note: for atm cold start from constant co2 value, instead of using field table to initialize co2,
##       create atmos_tracers.res.nc with co2 moist mmr values
##       WTMAIR = 2.896440E+01 WTMCO2   =  44.00995
##       CMIP6 Jan 1 1850 co2 = 284.262e-6
#
###.................................................
### BLING field table
## jgj 2013/01/23 updated for BLING

"namelists","ocean_mod","generic_bling/*global*"
/

"namelists","ocean_mod","generic_bling"

init = f
ca_2_p = 1.06
#--------------------------------------------------------------------
# JGJ 2017/01/31
# field table entries for initialization of cobalt/bling tracers
# all unit conversions will be specified in the code based on
# valid src_var_unit and internal model unit.
# If field table src_var_unit does not match valid src_var_unit
# in code, model will give fatal error.
# valid src_var_units:
#    NO3, PO4, SiO4    : micromoles_per_liter
#    O2                : milliliters_per_liter
#    DIC, ALK          : micromoles_per_kg
#    all other fields  : none
# valid src_var_record : 0-12, where 0 is Annual, 1-12 for Jan-Dec
# 2015/10/05: Use annual data for WOA13 N, P, Si, O2 since monthly data does not extend to depth
# airsea and ice_ocean fluxes are handled by coupler, so are initialized in COBALT/BLING.
#
# 2015/09/28 jgj updated to provide valid_min, valid_max for tracers to ensure
# tracers remain positive after interpolation
# note that values of valid_min and valid_max are in model units not src_units
# currently only alk, dic and htotal have both a valid_min and valid_max
# specified in field_table, but valid_max is ignored for now by code.
# as of 2015/10/06 src_var_record and src_var_gridspec are not yet implemented
#
# 2015/10/14 change valid_min for alk and dic to 0 since land values get filled with valid_min
#            also remove valid_max for alk and dic
#
# BLING needs: dic, alk, po4, o2, dop, fed, htotal, co3_ion, irr_mem, biomass_p, chl
# optional needs: po4_pre, alk_pre, dic_pre, dic_sat, htotal_sat, di14c, do14c
# dop = srdop in cobalt
# biomass = phytoplankton biomass = (nlg+nsm+ndi in COBALT)
#------------------------------------------------------------------------------------------------
#
# O2 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_o_annual_01.nc)
# min = 0, max = 15.44 from input dataset
# multiply by (1000/22391.6)/1035 to convert from ml/l to mol/kg
o2_src_file = INPUT/woa13_all_o_annual_01.nc
o2_src_var_name = o_an
o2_src_var_unit = milliliters_per_liter
o2_dest_var_name =  o2
o2_dest_var_unit = mol kg-1
o2_src_var_record = 1
o2_src_var_gridspec = NONE
o2_valid_min = 0.0
#
# PO4 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_p_annual_01.nc)
# min = 0, max = 9.757 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
po4_src_file = INPUT/woa13_all_p_annual_01.nc
po4_src_var_name = p_an
po4_src_var_unit = micromoles_per_liter
po4_dest_var_name =  po4
po4_dest_var_unit = mol kg-1
po4_src_var_record = 1
po4_src_var_gridspec = NONE
po4_valid_min = 0.0
#
# PO4_pre from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_p_annual_01.nc)
# min = 0, max = 9.757 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
po4_pre_src_file = INPUT/woa13_all_p_annual_01.nc
po4_pre_src_var_name = p_an
po4_pre_src_var_unit = micromoles_per_liter
po4_pre_dest_var_name =  po4_pre
po4_pre_dest_var_unit = mol kg-1
po4_pre_src_var_record = 1
po4_pre_src_var_gridspec = NONE
po4_pre_valid_min = 0.0
#
# Alkalinity from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Alk.nc)
# min = 2171, max = 2462 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
alk_src_file = INPUT/Alk.nc
alk_src_var_name = Alk
alk_src_var_unit = micromoles_per_kg
alk_dest_var_name =  alk
alk_dest_var_unit = mol kg-1
alk_src_var_record = 1
alk_src_var_gridspec = NONE
alk_valid_min = 0.0
#
# alk_pre Alkalinity from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Alk.nc)
# min = 2171, max = 2462 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
alk_pre_src_file = INPUT/Alk.nc
alk_pre_src_var_name = Alk
alk_pre_src_var_unit = micromoles_per_kg
alk_pre_dest_var_name =  alk_pre
alk_pre_dest_var_unit = mol kg-1
alk_pre_src_var_record = 1
alk_pre_src_var_gridspec = NONE
alk_pre_valid_min = 0.0
#
# Preind DIC from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Preind_DIC.nc)
# min = 1837, max = 2406 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
dic_src_file = INPUT/Preind_DIC.nc
dic_src_var_name = Preind_DIC
dic_src_var_unit = micromoles_per_kg
dic_dest_var_name =  dic
dic_dest_var_unit = mol kg-1
dic_src_var_record = 1
dic_src_var_gridspec = NONE
dic_valid_min = 0.0
#
# dic_pre from Preind DIC from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Preind_DIC.nc)
# min = 1837, max = 2406 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
dic_pre_src_file = INPUT/Preind_DIC.nc
dic_pre_src_var_name = Preind_DIC
dic_pre_src_var_unit = micromoles_per_kg
dic_pre_dest_var_name =  dic_pre
dic_pre_dest_var_unit = mol kg-1
dic_pre_src_var_record = 1
dic_pre_src_var_gridspec = NONE
dic_pre_valid_min = 0.0
#
# dic_sat from Preind DIC from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Preind_DIC.nc)
# min = 1837, max = 2406 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
dic_sat_src_file = INPUT/Preind_DIC.nc
dic_sat_src_var_name = Preind_DIC
dic_sat_src_var_unit = micromoles_per_kg
dic_sat_dest_var_name =  dic_sat
dic_sat_dest_var_unit = mol kg-1
dic_sat_src_var_record = 1
dic_sat_src_var_gridspec = NONE
dic_sat_valid_min = 0.0
#
# di14c from Preind DIC from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Preind_DIC.nc)
# min = 1837, max = 2406 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
di14c_src_file = INPUT/Preind_DIC.nc
di14c_src_var_name = Preind_DIC
di14c_src_var_unit = micromoles_per_kg
di14c_dest_var_name =  di14c
di14c_dest_var_unit = mol kg-1
di14c_src_var_record = 1
di14c_src_var_gridspec = NONE
di14c_valid_min = 0.0
#
# do14c from Preind DIC from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Preind_DIC.nc)
# min = 1837, max = 2406 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
do14c_src_file = INPUT/Preind_DIC.nc
do14c_src_var_name = Preind_DIC
do14c_src_var_unit = micromoles_per_kg
do14c_dest_var_name =  do14c
do14c_dest_var_unit = mol kg-1
do14c_src_var_record = 1
do14c_src_var_gridspec = NONE
do14c_valid_min = 0.0
#
# additional tracers from ESM2M-COBALT Preindustrial Control restart (/archive/jgj/datasets/retrospective/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc)
#
# min = 0 from input dataset
cased_src_file = INPUT/init_ocean_cobalt.res.nc
cased_src_var_name = cased
cased_src_var_unit = none
cased_dest_var_name =  cased
cased_dest_var_unit = mol kg-1
cased_src_var_record = 1
cased_src_var_gridspec = NONE
cased_valid_min = 0.0
#
# min = 0,  max = 4.446 from input dataset
chl_src_file = INPUT/init_ocean_cobalt.res.nc
chl_src_var_name = chl
chl_src_var_unit = none
chl_dest_var_name =  chl
chl_dest_var_unit = mol kg-1
chl_src_var_record = 1
chl_src_var_gridspec = NONE
chl_valid_min = 0.0
#
# min = 0,  max = 3.576E-04 from input dataset
co3_ion_src_file = INPUT/init_ocean_cobalt.res.nc
co3_ion_src_var_name = co3_ion
co3_ion_src_var_unit = none
co3_ion_dest_var_name =  co3_ion
co3_ion_dest_var_unit = mol kg-1
co3_ion_src_var_record = 1
co3_ion_src_var_gridspec = NONE
co3_ion_valid_min = 0.0
#
# min = -1.758E-11,  max = 1.758E-08 from input dataset
fed_src_file = INPUT/init_ocean_cobalt.res.nc
fed_src_var_name = fed
fed_src_var_unit = none
fed_dest_var_name =  fed
fed_dest_var_unit = mol kg-1
fed_src_var_record = 1
fed_src_var_gridspec = NONE
fed_valid_min = 0.0
#
# min = 10^-8.4=3.981E-09,  max = 10^-7.9 = 1.259E-08 from input dataset
htotal_src_file = INPUT/init_ocean_cobalt.res.nc
htotal_src_var_name = htotal
htotal_src_var_unit = none
htotal_dest_var_name =  htotal
htotal_dest_var_unit = mol kg-1
htotal_src_var_record = 1
htotal_src_var_gridspec = NONE
htotal_valid_min = 3.981E-09
htotal_valid_max = 1.259E-08
#
# htotal_sat identical to htotal
htotal_sat_src_file = INPUT/init_ocean_cobalt.res.nc
htotal_sat_src_var_name = htotal
htotal_sat_src_var_unit = none
htotal_sat_dest_var_name =  htotal_sat
htotal_sat_dest_var_unit = mol kg-1
htotal_sat_src_var_record = 1
htotal_sat_src_var_gridspec = NONE
htotal_sat_valid_min = 3.981E-09
htotal_sat_valid_max = 1.259E-08
#
# min = 0,  max = 137.7 from input dataset
irr_mem_src_file = INPUT/init_ocean_cobalt.res.nc
irr_mem_src_var_name = irr_mem
irr_mem_src_var_unit = none
irr_mem_dest_var_name =  irr_mem
irr_mem_dest_var_unit = mol kg-1
irr_mem_src_var_record = 1
irr_mem_src_var_gridspec = NONE
irr_mem_valid_min = 0.0
#
# min = -1.257E-11,  max = 3.831E-07 from input dataset
dop_src_file = INPUT/init_ocean_cobalt.res.nc
dop_src_var_name = srdop
dop_src_var_unit = none
dop_dest_var_name =  dop
dop_dest_var_unit = mol kg-1
dop_src_var_record = 1
dop_src_var_gridspec = NONE
dop_valid_min = 0.0
#
# phyto biomass
biomass_p_src_file = INPUT/init_ocean_cobalt_phyto_biomass.res.nc
biomass_p_src_var_name = phyto_biomass
biomass_p_src_var_unit = none
biomass_p_dest_var_name =  biomass_p
biomass_p_dest_var_unit = mol kg-1
biomass_p_src_var_record = 1
biomass_p_src_var_gridspec = NONE
biomass_p_valid_min = 0.0
#
/
###........................................
      </fieldTable>
    </input>
  </freInclude>

  <freInclude name="diag_table_GENERICS">
    <input>
      <diagTable order="append">
#======================================================================================
# Ocean Inert Chemistry Diagnostics
"ocean_inert",           1, "months", 1, "days", "time",
"ocean_inert_z",         1, "months", 1, "days", "time",
"ocean_inert_annual",    12, "months", 1, "days", "time",
"ocean_inert_annual_z",  12, "months", 1, "days", "time",

#
"generic_cfc",    "cfc11",    "cfc11",    "ocean_inert",          "all",.true.,"none",2
"generic_cfc_z",  "cfc11",    "cfc11",    "ocean_inert_z",        "all",.true.,"none",2
"generic_cfc",    "cfc11",    "cfc11",    "ocean_inert_annual",   "all",.true.,"none",2
"generic_cfc_z",  "cfc11",    "cfc11",    "ocean_inert_annual_z", "all",.true.,"none",2
"generic_cfc",    "fgcfc11",  "fgcfc11",  "ocean_inert",          "all",.true.,"none",2

"generic_cfc",    "cfc12",    "cfc12",    "ocean_inert",          "all",.true.,"none",2
"generic_cfc_z",  "cfc12",    "cfc12",    "ocean_inert_z",        "all",.true.,"none",2
"generic_cfc",    "cfc12",    "cfc12",    "ocean_inert_annual",   "all",.true.,"none",2
"generic_cfc_z",  "cfc12",    "cfc12",    "ocean_inert_annual_z", "all",.true.,"none",2
"generic_cfc",    "fgcfc12",  "fgcfc12",  "ocean_inert",          "all",.true.,"none",2

"generic_sf6",    "sf6",      "sf6",      "ocean_inert",          "all",.true.,"none",2
"generic_sf6_z",  "sf6",      "sf6",      "ocean_inert_z",        "all",.true.,"none",2
"generic_sf6",    "sf6",      "sf6",      "ocean_inert_annual",   "all",.true.,"none",2
"generic_sf6_z",  "sf6",      "sf6",      "ocean_inert_annual_z", "all",.true.,"none",2
"generic_sf6",    "fgsf6",    "fgsf6",    "ocean_inert",          "all",.true.,"none",2

"generic_cfc",   "cfc11_alpha",     "cfc11_alpha",     "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc11_csurf",     "cfc11_csurf",     "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc11_sc_no",     "cfc11_sc_no",     "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc11_stf_gas",   "cfc11_stf_gas",   "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc12_alpha",     "cfc12_alpha",     "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc12_csurf",     "cfc12_csurf",     "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc12_sc_no",     "cfc12_sc_no",     "ocean_inert","all",.true.,"none",2
"generic_cfc",   "cfc12_stf_gas",   "cfc12_stf_gas",   "ocean_inert","all",.true.,"none",2
"generic_sf6",   "sf6_alpha",       "sf6_alpha",       "ocean_inert","all",.true.,"none",2
"generic_sf6",   "sf6_csurf",       "sf6_csurf",       "ocean_inert","all",.true.,"none",2
"generic_sf6",   "sf6_sc_no",       "sf6_sc_no",       "ocean_inert","all",.true.,"none",2
"generic_sf6",   "sf6_stf_gas",     "sf6_stf_gas",     "ocean_inert","all",.true.,"none",2

"ocean_abiotic",           1, "months", 1, "days", "time",
"ocean_abiotic_z",          1, "months", 1, "days", "time",
"ocean_abiotic_annual",   12, "months", 1, "days", "time",
"ocean_abiotic_annual_z",  12, "months", 1, "days", "time",

#
#-- CMIP Tracer Fields
"generic_abiotic",   "dissicabio",           "dissicabio",           "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "dissi14cabio",         "dissi14cabio",         "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "phabio",               "phabio",               "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic_z", "dissicabio",           "dissicabio",           "ocean_abiotic_z","all",.true.,"none", 2
"generic_abiotic_z", "dissi14cabio",         "dissi14cabio",         "ocean_abiotic_z","all",.true.,"none", 2
"generic_abiotic_z", "phabio",               "phabio",               "ocean_abiotic_z","all",.true.,"none", 2
"generic_abiotic",   "dissicabio",           "dissicabio",           "ocean_abiotic_annual","all",.true.,"none", 2
"generic_abiotic",   "dissi14cabio",         "dissi14cabio",         "ocean_abiotic_annual","all",.true.,"none", 2
"generic_abiotic",   "phabio",               "phabio",               "ocean_abiotic_annual","all",.true.,"none", 2
"generic_abiotic_z", "dissicabio",           "dissicabio",           "ocean_abiotic_annual_z","all",.true.,"none", 2
"generic_abiotic_z", "dissi14cabio",         "dissi14cabio",         "ocean_abiotic_annual_z","all",.true.,"none", 2
"generic_abiotic_z", "phabio",               "phabio",               "ocean_abiotic_annual_z","all",.true.,"none", 2

#-- CMIP Surface Fields
"generic_abiotic",   "dissicabioos",         "dissicabioos",         "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissi14cabioos",       "dissi14cabioos",       "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dpco2abio",            "dpco2abio",            "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "fgco2abio",            "fgco2abio",            "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "fg14co2abio",          "fg14co2abio",          "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "phabioos",             "phabioos",             "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "spco2abio",            "spco2abio",            "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "fgco2abio",            "fgco2abio",            "ocean_abiotic_annual","all",.true.,"none",2
"generic_abiotic",   "fg14co2abio",          "fg14co2abio",          "ocean_abiotic_annual","all",.true.,"none",2

#-- Non-CMIP Tracer Fields
"generic_abiotic",   "ab_alk",               "ab_alk",               "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "ab_htotal",            "ab_htotal",            "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "ab_htotal14c",         "ab_htotal14c",         "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "ab_po4",               "ab_po4",               "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "ab_sio4",              "ab_sio4",              "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic",   "jdecay_di14c",         "jdecay_di14c",         "ocean_abiotic","all",.true.,"none", 2
"generic_abiotic_z", "ab_alk",               "ab_alk",               "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z", "ab_htotal",            "ab_htotal",            "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z", "ab_htotal14c",         "ab_htotal14c",         "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z", "ab_po4",               "ab_po4",               "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z", "ab_sio4",              "ab_sio4",              "ocean_abiotic_z","all",.true.,"none",2

#-- Non-CMIP Surface Fields
"generic_abiotic",   "sfc_ab_alk",           "sfc_ab_alk",           "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "sfc_ab_htotal",        "sfc_ab_htotal",        "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "sfc_ab_htotal14c",     "sfc_ab_htotal14c",     "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "sfc_ab_po4",           "sfc_ab_po4",           "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "sfc_ab_sio4",          "sfc_ab_sio4",          "ocean_abiotic","all",.true.,"none",2

#-- Non-CMIP Gas exchange
"generic_abiotic",   "ab_pco2surf",          "ab_pco2surf",          "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "ab_p14co2surf",        "ab_p14co2surf",        "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "delta_14catm",         "delta_14catm",         "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissicabio_alpha",     "dissicabio_alpha",     "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissi14cabio_alpha",   "dissi14cabio_alpha",   "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissicabio_csurf",     "dissicabio_csurf",     "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissi14cabio_csurf",   "dissi14cabio_csurf",   "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissicabio_sc_no",     "dissicabio_sc_no",     "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissi14cabio_sc_no",   "dissi14cabio_sc_no",   "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissicabio_stf_gas",   "dissicabio_stf_gas",   "ocean_abiotic","all",.true.,"none",2
"generic_abiotic",   "dissi14cabio_stf_gas", "dissi14cabio_stf_gas", "ocean_abiotic","all",.true.,"none",2
# Required cell measures
"ocean_model",  "volcello", "volcello",  "ocean_abiotic","all","mean","none",2 # Cell measure for 3d data
"ocean_model_z","volcello", "volcello",  "ocean_abiotic_z","all","mean","none",2 # Cell measure for 3d data
"ocean_model",  "volcello", "volcello",  "ocean_abiotic_annual","all","mean","none",2 # Cell measure for 3d data
"ocean_model_z", "volcello", "volcello", "ocean_abiotic_annual_z","all","mean","none",2 # Cell measure for 3d data
"ocean_model",  "volcello", "volcello",  "ocean_inert","all","mean","none",2 # Cell measure for 3d data
"ocean_model_z","volcello", "volcello",  "ocean_inert_z","all","mean","none",2 # Cell measure for 3d data
"ocean_model",  "volcello", "volcello",  "ocean_inert_annual","all","mean","none",2 # Cell measure for 3d data
"ocean_model_z","volcello", "volcello",  "ocean_inert_annual_z","all","mean","none",2 # Cell measure for 3d data
     </diagTable>
    </input>
  </freInclude>
</experimentSuite>
